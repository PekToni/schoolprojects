<div class="container">
    <h2>Register</h2>
    <form #f="ngForm" (ngSubmit)="register(f)">
        <div class="form-group">
            <label for="username">Username</label>
            <input name="username" type="text" class="form-control" id="username" [(ngModel)]="user.username"
            #username="ngModel" required>
        </div>
        <div class="form-group">
            <label for="email">E-mail</label>
            <input name="email" type="email" class="form-control" id="email" [(ngModel)]="user.email" #email="ngModel"
             email="true" pattern="^[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,4}$" required>
        </div>
        <div class="form-group">
            <label for="password">Password</label>
            <input name="password" type="password" class="form-control" id="password" [(ngModel)]="user.password"
            #password="ngModel" minlength="6" required>
        </div>
        <button class="btn btn-sm btn-dark" [disabled]="!f.valid">Register</button>
        <div *ngIf="!username?.valid && (username?.dirty || username?.touched)">
            <div *ngIf="username.errors.required">
                Username is required
            </div>
        </div>
        <div *ngIf="!email?.valid && (email?.dirty || email?.touched)">
            <div *ngIf="email.errors.required">
                Email is required
            </div>
            <div *ngIf="email.errors.pattern">
                Invalid Email Address
            </div>
        </div>
        <div *ngIf="!password?.valid && (password?.dirty || password?.touched)">
            <div *ngIf="password.errors.required">
                Password is required
            </div>
            <div *ngIf="password.errors.minlength">
                Password minimum lenght is {{password.errors.minlength?.requiredLength}}
            </div>
        </div>
    </form>
</div>
